var C=Object.defineProperty;var I=(t,e,n)=>e in t?C(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var c=(t,e,n)=>(I(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const w="0123456789",b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",_=8;function B(t){const e=b+w;let n="";for(let o=0;o<t;o++)n+=e.charAt(Math.floor(Math.random()*e.length));return n}class M{constructor(e="",n=!1){c(this,"id");c(this,"value");c(this,"completed");c(this,"toggleCompleted",()=>{this.completed=!this.completed});c(this,"setCompleted",(e=!0)=>{this.completed=e});c(this,"getCompleted",()=>this.completed);c(this,"setValue",e=>{this.value=e});c(this,"getValue",()=>this.value);this.id=B(_),this.value=e,this.completed=n}}class h{constructor(e){c(this,"list");c(this,"addTask",e=>(this.list.unshift(e),this.list));c(this,"deleteTask",e=>{const n=this.list.findIndex(o=>o.id===e);this.list.splice(n,1)});c(this,"getTaskById",e=>this.list.find(n=>n.id===e)||null);c(this,"getTaskByIndex",e=>this.list[e]||null);this.list=e||[]}}const u=document.getElementById("search-input"),l=document.getElementById("textInput"),E=document.querySelector(".task__input--icon"),f=document.getElementById("task-list"),L=document.getElementById("all"),g=document.getElementById("complete"),k=document.getElementById("remain"),v=document.querySelectorAll(".header__link");v[0].classList.add("header__link--active");v.forEach(t=>{t.addEventListener("click",function(){v.forEach(e=>{e.classList.remove("header__link--active")}),t.classList.add("header__link--active")})});function y(){u instanceof HTMLInputElement&&(u.value="")}let d=0;L==null||L.addEventListener("click",()=>{y(),d=0,a(0)});g==null||g.addEventListener("click",()=>{y(),d=1,a(1)});k==null||k.addEventListener("click",()=>{y(),d=2,a(2)});const p=new h;function S(t){const e=new M(t);return p.addTask(e),e}function x(t){const e=p.getTaskById(t);if(!e)throw new Error(`Task with id ${t} not found`);return e&&e.toggleCompleted(),e}function T(){const t=l==null?void 0:l.value.trim();t!==""&&t!==void 0&&(console.log("added task"),S(t),a(d),l&&(l.value=""))}l==null||l.addEventListener("keyup",t=>{t.key==="Enter"&&T()});E==null||E.addEventListener("click",()=>{T()});function A(t,e=""){const n=t.list.filter(o=>o.value.toLowerCase().includes(e.toLowerCase()));return new h(n)}function O(t,e){switch(e){case 1:return new h(t.list.filter(n=>n.completed));case 2:return new h(t.list.filter(n=>!n.completed));case 0:default:return t}}function N(t){if(!f)throw new Error("DOM element not found");if(f.innerHTML="",t.list.length===0){const e=document.createElement("p");e.textContent="No task found",e.classList.add("error"),f.appendChild(e);return}t.list.forEach(e=>{const n=document.createElement("div");n.classList.add("task-item");const o=document.createElement("label");n.appendChild(o);const s=document.createElement("input");s.setAttribute("type","checkbox"),s.classList.add("checkbox"),s.setAttribute("title","toggle task status"),s.checked=e.completed,s.addEventListener("change",()=>{x(e.id),a(d)});const i=document.createElement("div");i.classList.add("list-data");const r=document.createElement("p");r.classList.add("task-item-value"),r.textContent=e.value,e.completed&&r.classList.add("task-completed");const m=document.createElement("i");m.classList.add("bi","bi-trash-fill","deleteIcon"),m.setAttribute("title","delete"),m.addEventListener("click",()=>{p.deleteTask(e.id),a(d)}),o.appendChild(s),i.appendChild(r),i.appendChild(m),n.appendChild(i),f.appendChild(n)})}u==null||u.addEventListener("input",t=>{var n;const e=(n=t.target)==null?void 0:n.value;a(d,e)});function a(t=0,e=""){const n=O(A(p,e),t);N(n)}a(d);
